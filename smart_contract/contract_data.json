{"abi": [{"anonymous": false, "inputs": [{"indexed": true, "internalType": "uint256", "name": "recordId", "type": "uint256"}, {"indexed": true, "internalType": "address", "name": "provider", "type": "address"}, {"indexed": false, "internalType": "bool", "name": "canView", "type": "bool"}, {"indexed": false, "internalType": "bool", "name": "canEdit", "type": "bool"}, {"indexed": false, "internalType": "bool", "name": "canDelete", "type": "bool"}, {"indexed": false, "internalType": "bool", "name": "isPermanent", "type": "bool"}], "name": "AccessGranted", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": true, "internalType": "uint256", "name": "recordId", "type": "uint256"}, {"indexed": true, "internalType": "address", "name": "provider", "type": "address"}], "name": "AccessRevoked", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": true, "internalType": "uint256", "name": "recordId", "type": "uint256"}, {"indexed": false, "internalType": "string", "name": "condition", "type": "string"}, {"indexed": false, "internalType": "string", "name": "treatmentDetails", "type": "string"}, {"indexed": true, "internalType": "address", "name": "owner", "type": "address"}], "name": "RecordAdded", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": true, "internalType": "uint256", "name": "recordId", "type": "uint256"}, {"indexed": false, "internalType": "string", "name": "condition", "type": "string"}, {"indexed": false, "internalType": "string", "name": "treatmentDetails", "type": "string"}], "name": "RecordUpdated", "type": "event"}, {"inputs": [{"internalType": "string", "name": "condition", "type": "string"}, {"internalType": "string", "name": "treatmentDetails", "type": "string"}], "name": "addRecord", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "recordId", "type": "uint256"}, {"internalType": "address", "name": "provider", "type": "address"}], "name": "canAccess", "outputs": [{"internalType": "bool", "name": "", "type": "bool"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "recordId", "type": "uint256"}], "name": "deleteRecord", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "recordId", "type": "uint256"}, {"internalType": "address", "name": "provider", "type": "address"}], "name": "getAccessPermissions", "outputs": [{"internalType": "bool", "name": "canView", "type": "bool"}, {"internalType": "bool", "name": "canEdit", "type": "bool"}, {"internalType": "bool", "name": "canDelete", "type": "bool"}, {"internalType": "bool", "name": "isPermanent", "type": "bool"}, {"internalType": "uint256", "name": "expiryTime", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "recordId", "type": "uint256"}], "name": "getRecord", "outputs": [{"internalType": "string", "name": "", "type": "string"}, {"internalType": "string", "name": "", "type": "string"}, {"internalType": "address", "name": "", "type": "address"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "recordId", "type": "uint256"}, {"internalType": "address", "name": "provider", "type": "address"}, {"internalType": "bool", "name": "canView", "type": "bool"}, {"internalType": "bool", "name": "canEdit", "type": "bool"}, {"internalType": "bool", "name": "canDelete", "type": "bool"}, {"internalType": "bool", "name": "isPermanent", "type": "bool"}, {"internalType": "uint256", "name": "expiryTime", "type": "uint256"}], "name": "grantAccess", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [], "name": "recordCount", "outputs": [{"internalType": "uint256", "name": "", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "", "type": "uint256"}, {"internalType": "address", "name": "", "type": "address"}], "name": "recordPermissions", "outputs": [{"internalType": "bool", "name": "canView", "type": "bool"}, {"internalType": "bool", "name": "canEdit", "type": "bool"}, {"internalType": "bool", "name": "canDelete", "type": "bool"}, {"internalType": "bool", "name": "isPermanent", "type": "bool"}, {"internalType": "uint256", "name": "expiryTime", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "", "type": "uint256"}], "name": "records", "outputs": [{"internalType": "string", "name": "condition", "type": "string"}, {"internalType": "string", "name": "treatmentDetails", "type": "string"}, {"internalType": "address", "name": "owner", "type": "address"}, {"internalType": "bool", "name": "isActive", "type": "bool"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "recordId", "type": "uint256"}, {"internalType": "address", "name": "provider", "type": "address"}], "name": "revokeAccess", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "recordId", "type": "uint256"}, {"internalType": "bool", "name": "isActive", "type": "bool"}], "name": "toggleRecordActive", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "recordId", "type": "uint256"}, {"internalType": "string", "name": "condition", "type": "string"}, {"internalType": "string", "name": "treatmentDetails", "type": "string"}], "name": "updateRecord", "outputs": [], "stateMutability": "nonpayable", "type": "function"}], "bytecode": "608060405234801561000f575f80fd5b50611a998061001d5f395ff3fe608060405234801561000f575f80fd5b50600436106100b2575f3560e01c8063c95962481161006f578063c95962481461018d578063d5b2d1ed146101a9578063d9a5ec1b146101d9578063ea0e63cd146101f5578063ec2ef29214610229578063f5ccc1ce14610245576100b2565b806303e9e609146100b6578063061f9811146100e857806334461067146101045780633812c6a814610137578063900407bc146101535780639420504214610171575b5f80fd5b6100d060048036038101906100cb919061107b565b610279565b6040516100df9392919061116f565b60405180910390f35b61010260048036038101906100fd919061107b565b610446565b005b61011e6004803603810190610119919061107b565b610553565b60405161012e94939291906111cc565b60405180910390f35b610151600480360381019061014c9190611349565b6106b6565b005b61015b6107d6565b60405161016891906113e0565b60405180910390f35b61018b6004803603810190610186919061144d565b6107dc565b005b6101a760048036038101906101a291906114ea565b6109dc565b005b6101c360048036038101906101be9190611560565b610b29565b6040516101d0919061159e565b60405180910390f35b6101f360048036038101906101ee9190611560565b610c1d565b005b61020f600480360381019061020a9190611560565b610da6565b6040516102209594939291906115b7565b60405180910390f35b610243600480360381019061023e9190611608565b610ea3565b005b61025f600480360381019061025a9190611560565b610f72565b6040516102709594939291906115b7565b60405180910390f35b6060805f805f808681526020019081526020015f206040518060800160405290815f820180546102a890611673565b80601f01602080910402602001604051908101604052809291908181526020018280546102d490611673565b801561031f5780601f106102f65761010080835404028352916020019161031f565b820191905f5260205f20905b81548152906001019060200180831161030257829003601f168201915b5050505050815260200160018201805461033890611673565b80601f016020809104026020016040519081016040528092919081815260200182805461036490611673565b80156103af5780601f10610386576101008083540402835291602001916103af565b820191905f5260205f20905b81548152906001019060200180831161039257829003601f168201915b50505050508152602001600282015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016002820160149054906101000a900460ff1615151515815250509050805f015181602001518260400151935093509350509193909250565b3373ffffffffffffffffffffffffffffffffffffffff165f808381526020019081526020015f206002015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16146104e6576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104dd906116ed565b60405180910390fd5b5f808281526020019081526020015f205f8082015f6105059190610fdf565b600182015f6105149190610fdf565b600282015f6101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556002820160146101000a81549060ff0219169055505050565b5f602052805f5260405f205f91509050805f01805461057190611673565b80601f016020809104026020016040519081016040528092919081815260200182805461059d90611673565b80156105e85780601f106105bf576101008083540402835291602001916105e8565b820191905f5260205f20905b8154815290600101906020018083116105cb57829003601f168201915b5050505050908060010180546105fd90611673565b80601f016020809104026020016040519081016040528092919081815260200182805461062990611673565b80156106745780601f1061064b57610100808354040283529160200191610674565b820191905f5260205f20905b81548152906001019060200180831161065757829003601f168201915b505050505090806002015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060020160149054906101000a900460ff16905084565b3373ffffffffffffffffffffffffffffffffffffffff165f808581526020019081526020015f206002015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610756576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161074d906116ed565b60405180910390fd5b815f808581526020019081526020015f205f01908161077591906118a8565b50805f808581526020019081526020015f20600101908161079691906118a8565b50827fd023cc10d90c6f37f5d79613b9204e59bae2530cca36ecc92c4bb5f1fa9e7ad083836040516107c9929190611977565b60405180910390a2505050565b60025481565b3373ffffffffffffffffffffffffffffffffffffffff165f808981526020019081526020015f206002015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161461087c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610873906116ed565b60405180910390fd5b6040518060a0016040528086151581526020018515158152602001841515815260200183151581526020018281525060015f8981526020019081526020015f205f8873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f820151815f015f6101000a81548160ff0219169083151502179055506020820151815f0160016101000a81548160ff0219169083151502179055506040820151815f0160026101000a81548160ff0219169083151502179055506060820151815f0160036101000a81548160ff021916908315150217905550608082015181600101559050508573ffffffffffffffffffffffffffffffffffffffff16877f589f95cb44e7d9da54a11bb8ba7919b7987bfe249dcf3d0a7c362d01f35ea0e5878787876040516109cb94939291906119ac565b60405180910390a350505050505050565b60025f8154809291906109ee90611a1c565b919050555060405180608001604052808381526020018281526020013373ffffffffffffffffffffffffffffffffffffffff168152602001600115158152505f8060025481526020019081526020015f205f820151815f019081610a5291906118a8565b506020820151816001019081610a6891906118a8565b506040820151816002015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060608201518160020160146101000a81548160ff0219169083151502179055509050503373ffffffffffffffffffffffffffffffffffffffff166002547ffafc4abeafc2b3f4bc5cc8f60fba98757990cb39e7063143d65e38dd2a5227f58484604051610b1d929190611977565b60405180910390a35050565b5f8060015f8581526020019081526020015f205f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f206040518060a00160405290815f82015f9054906101000a900460ff161515151581526020015f820160019054906101000a900460ff161515151581526020015f820160029054906101000a900460ff161515151581526020015f820160039054906101000a900460ff161515151581526020016001820154815250509050805f01518015610c145750806060015180610c135750428160800151115b5b91505092915050565b3373ffffffffffffffffffffffffffffffffffffffff165f808481526020019081526020015f206002015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610cbd576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610cb4906116ed565b60405180910390fd5b60015f8381526020019081526020015f205f8273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f8082015f6101000a81549060ff02191690555f820160016101000a81549060ff02191690555f820160026101000a81549060ff02191690555f820160036101000a81549060ff0219169055600182015f905550508073ffffffffffffffffffffffffffffffffffffffff16827f125883b94692baebecad9f111ed97ffa626523bbbadc6b0ef85ee1b56b9e52d560405160405180910390a35050565b5f805f805f8060015f8981526020019081526020015f205f8873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f206040518060a00160405290815f82015f9054906101000a900460ff161515151581526020015f820160019054906101000a900460ff161515151581526020015f820160029054906101000a900460ff161515151581526020015f820160039054906101000a900460ff161515151581526020016001820154815250509050805f0151816020015182604001518360600151846080015195509550955095509550509295509295909350565b3373ffffffffffffffffffffffffffffffffffffffff165f808481526020019081526020015f206002015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610f43576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f3a906116ed565b60405180910390fd5b805f808481526020019081526020015f2060020160146101000a81548160ff0219169083151502179055505050565b6001602052815f5260405f20602052805f5260405f205f9150915050805f015f9054906101000a900460ff1690805f0160019054906101000a900460ff1690805f0160029054906101000a900460ff1690805f0160039054906101000a900460ff16908060010154905085565b508054610feb90611673565b5f825580601f10610ffc5750611019565b601f0160209004905f5260205f2090810190611018919061101c565b5b50565b5b80821115611033575f815f90555060010161101d565b5090565b5f604051905090565b5f80fd5b5f80fd5b5f819050919050565b61105a81611048565b8114611064575f80fd5b50565b5f8135905061107581611051565b92915050565b5f602082840312156110905761108f611040565b5b5f61109d84828501611067565b91505092915050565b5f81519050919050565b5f82825260208201905092915050565b5f5b838110156110dd5780820151818401526020810190506110c2565b5f8484015250505050565b5f601f19601f8301169050919050565b5f611102826110a6565b61110c81856110b0565b935061111c8185602086016110c0565b611125816110e8565b840191505092915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f61115982611130565b9050919050565b6111698161114f565b82525050565b5f6060820190508181035f83015261118781866110f8565b9050818103602083015261119b81856110f8565b90506111aa6040830184611160565b949350505050565b5f8115159050919050565b6111c6816111b2565b82525050565b5f6080820190508181035f8301526111e481876110f8565b905081810360208301526111f881866110f8565b90506112076040830185611160565b61121460608301846111bd565b95945050505050565b5f80fd5b5f80fd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b61125b826110e8565b810181811067ffffffffffffffff8211171561127a57611279611225565b5b80604052505050565b5f61128c611037565b90506112988282611252565b919050565b5f67ffffffffffffffff8211156112b7576112b6611225565b5b6112c0826110e8565b9050602081019050919050565b828183375f83830152505050565b5f6112ed6112e88461129d565b611283565b90508281526020810184848401111561130957611308611221565b5b6113148482856112cd565b509392505050565b5f82601f8301126113305761132f61121d565b5b81356113408482602086016112db565b91505092915050565b5f805f606084860312156113605761135f611040565b5b5f61136d86828701611067565b935050602084013567ffffffffffffffff81111561138e5761138d611044565b5b61139a8682870161131c565b925050604084013567ffffffffffffffff8111156113bb576113ba611044565b5b6113c78682870161131c565b9150509250925092565b6113da81611048565b82525050565b5f6020820190506113f35f8301846113d1565b92915050565b6114028161114f565b811461140c575f80fd5b50565b5f8135905061141d816113f9565b92915050565b61142c816111b2565b8114611436575f80fd5b50565b5f8135905061144781611423565b92915050565b5f805f805f805f60e0888a03121561146857611467611040565b5b5f6114758a828b01611067565b97505060206114868a828b0161140f565b96505060406114978a828b01611439565b95505060606114a88a828b01611439565b94505060806114b98a828b01611439565b93505060a06114ca8a828b01611439565b92505060c06114db8a828b01611067565b91505092959891949750929550565b5f8060408385031215611500576114ff611040565b5b5f83013567ffffffffffffffff81111561151d5761151c611044565b5b6115298582860161131c565b925050602083013567ffffffffffffffff81111561154a57611549611044565b5b6115568582860161131c565b9150509250929050565b5f806040838503121561157657611575611040565b5b5f61158385828601611067565b92505060206115948582860161140f565b9150509250929050565b5f6020820190506115b15f8301846111bd565b92915050565b5f60a0820190506115ca5f8301886111bd565b6115d760208301876111bd565b6115e460408301866111bd565b6115f160608301856111bd565b6115fe60808301846113d1565b9695505050505050565b5f806040838503121561161e5761161d611040565b5b5f61162b85828601611067565b925050602061163c85828601611439565b9150509250929050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061168a57607f821691505b60208210810361169d5761169c611646565b5b50919050565b7f4e6f7420746865206f776e6572000000000000000000000000000000000000005f82015250565b5f6116d7600d836110b0565b91506116e2826116a3565b602082019050919050565b5f6020820190508181035f830152611704816116cb565b9050919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f600883026117677fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8261172c565b611771868361172c565b95508019841693508086168417925050509392505050565b5f819050919050565b5f6117ac6117a76117a284611048565b611789565b611048565b9050919050565b5f819050919050565b6117c583611792565b6117d96117d1826117b3565b848454611738565b825550505050565b5f90565b6117ed6117e1565b6117f88184846117bc565b505050565b5b8181101561181b576118105f826117e5565b6001810190506117fe565b5050565b601f821115611860576118318161170b565b61183a8461171d565b81016020851015611849578190505b61185d6118558561171d565b8301826117fd565b50505b505050565b5f82821c905092915050565b5f6118805f1984600802611865565b1980831691505092915050565b5f6118988383611871565b9150826002028217905092915050565b6118b1826110a6565b67ffffffffffffffff8111156118ca576118c9611225565b5b6118d48254611673565b6118df82828561181f565b5f60209050601f831160018114611910575f84156118fe578287015190505b611908858261188d565b86555061196f565b601f19841661191e8661170b565b5f5b8281101561194557848901518255600182019150602085019450602081019050611920565b86831015611962578489015161195e601f891682611871565b8355505b6001600288020188555050505b505050505050565b5f6040820190508181035f83015261198f81856110f8565b905081810360208301526119a381846110f8565b90509392505050565b5f6080820190506119bf5f8301876111bd565b6119cc60208301866111bd565b6119d960408301856111bd565b6119e660608301846111bd565b95945050505050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f611a2682611048565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203611a5857611a576119ef565b5b60018201905091905056fea264697066735822122016fdac47ffece39430341a1c641925ccd6f22b20a6dc4fd15e9c6796e3c1092064736f6c63430008140033"}